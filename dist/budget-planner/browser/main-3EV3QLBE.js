import{a as ie,b as re,d as oe,e as h,f as ne,g as ae,h as me}from"./chunk-YVACLPCG.js";import{A as he,B as z,G as ge,I as H,J as ve,K as be,a as L,b as d,c as D,d as M,e as q,h as G,i as V,m as O,n as P,o as U,p as B,q as se,r as le,s as w,t as pe,u as I,v as de,w as ce,x as ue,y as fe}from"./chunk-F4Y3R5XL.js";import{m as x,n as ee,q as E,v as te}from"./chunk-UT2NU2UN.js";import{$ as l,$a as p,Da as m,Db as Y,Ea as c,I as T,Sa as u,Ua as s,W as v,Za as o,_a as r,cb as Q,e as f,ea as b,fb as y,gb as C,lb as a,mb as k,na as X,oa as J,pb as S,rb as R,sb as N,x as F}from"./chunk-QWNFDHFO.js";var A=(()=>{class e{constructor(i,t,n){this.auth=i,this.firestore=t,this.router=n,this.user$=I(this.auth)}register(i,t,n){return f(this,null,function*(){let g=yield de(this.auth,t,n),K=g.user.uid,Re=ge(this.firestore,`users/${K}`),Ne={uid:K,email:g.user.email,displayName:i,createdAt:ve()};return yield be(Re,Ne),g})}login(i,t){return f(this,null,function*(){return yield ue(this.auth,i,t)})}logout(){return f(this,null,function*(){yield fe(this.auth),yield this.router.navigate(["/login"])})}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(he),l(h))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fe(e,_){if(e&1&&(o(0,"div",15),a(1),r()),e&2){let i=C();m(),k(i.error)}}var Se=(()=>{class e{constructor(i,t){this.fb=i,this.auth=t,this.loading=!1,this.form=this.fb.group({displayName:["",d.required],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}submit(){return f(this,null,function*(){if(this.form.invalid)return;this.loading=!0,this.error=void 0;let{displayName:i,email:t,password:n}=this.form.value;try{yield this.auth.register(i,t,n)}catch(g){this.error=g?.message??"Registration failed"}finally{this.loading=!1}})}static{this.\u0275fac=function(t){return new(t||e)(c(P),c(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-register"]],standalone:!0,features:[S],decls:22,vars:3,consts:[[1,"container","mt-5",3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4"],[1,"card","shadow-lg"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"mb-3"],["for","displayName",1,"form-label"],["formControlName","displayName","id","displayName","type","text","placeholder","Enter your full name","required","",1,"form-control"],["for","email",1,"form-label"],["formControlName","email","id","email","type","email","placeholder","Enter your email","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","id","password","type","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3",3,"disabled"],["class","mt-3 text-danger text-center",4,"ngIf"],[1,"mt-3","text-danger","text-center"]],template:function(t,n){t&1&&(o(0,"form",0),y("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Register"),r(),o(7,"div",6)(8,"label",7),a(9,"Full Name"),r(),p(10,"input",8),r(),o(11,"div",6)(12,"label",9),a(13,"Email"),r(),p(14,"input",10),r(),o(15,"div",6)(16,"label",11),a(17,"Password"),r(),p(18,"input",12),r(),o(19,"button",13),a(20," Register "),r(),u(21,Fe,2,1,"div",14),r()()()()()),t&2&&(s("formGroup",n.form),m(19),s("disabled",n.form.invalid||n.loading),m(2),s("ngIf",n.error))},dependencies:[E,x,U,q,L,D,M,O,B,G,V]})}}return e})();function Te(e,_){if(e&1&&(o(0,"div",13),a(1),r()),e&2){let i=C();m(),k(i.error)}}var xe=(()=>{class e{constructor(i,t,n){this.fb=i,this.auth=t,this.router=n,this.form=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required]]})}submit(){return f(this,null,function*(){try{yield this.auth.login(this.form.value.email,this.form.value.password),this.router.navigate(["/expense-manager/transaction-list"])}catch(i){this.error=i?.message??"Login failed"}})}static{this.\u0275fac=function(t){return new(t||e)(c(P),c(A),c(h))}}static{this.\u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[S],decls:18,vars:2,consts:[[1,"container","mt-5",3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-center","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["formControlName","email","id","email","type","email","placeholder","Enter your email","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","id","password","type","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3"],["class","mt-3 text-danger text-center",4,"ngIf"],[1,"mt-3","text-danger","text-center"]],template:function(t,n){t&1&&(o(0,"form",0),y("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Login"),r(),o(7,"div",6)(8,"label",7),a(9,"Email"),r(),p(10,"input",8),r(),o(11,"div",6)(12,"label",9),a(13,"Password"),r(),p(14,"input",10),r(),o(15,"button",11),a(16,"Login"),r(),u(17,Te,2,1,"div",12),r()()()()()),t&2&&(s("formGroup",n.form),m(17),s("ngIf",n.error))},dependencies:[E,x,U,q,L,D,M,O,B,G,V]})}}return e})();var Z=(()=>{class e{constructor(i,t){this.auth=i,this.router=t}canActivate(i,t){return I(this.auth).pipe(T(1),F(n=>n?!0:(this.router.navigate(["/expense-manager/transaction-list"],{queryParams:{returnUrl:t.url}}),!1)))}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(h))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ee=(()=>{class e{constructor(i,t){this.auth=i,this.router=t}canActivate(){return I(this.auth).pipe(T(1),F(i=>i?(this.router.navigate(["/"]),!1):!0))}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(h))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var we=[{path:"order",loadChildren:()=>import("./chunk-RJTDJDFX.js").then(e=>e.ORDER_ROUTES)},{path:"role",loadChildren:()=>import("./chunk-5NHM5B63.js").then(e=>e.ROLE_ROUTES)},{path:"contact",loadChildren:()=>import("./chunk-6BKPV7TR.js").then(e=>e.CONTACT_ROUTES)},{path:"expense-manager",loadChildren:()=>import("./chunk-7BHEH7S2.js").then(e=>e.EXPENSEMANAGER_ROUTES),canActivate:[Z]},{path:"supplier",loadChildren:()=>import("./chunk-LHVCEA64.js").then(e=>e.SUPPLIER_ROUTES)},{path:"register",component:Se,canActivate:[Z]},{path:"login",component:xe,canActivate:[Ee]}];var Ie={apiKey:"AIzaSyAFfL_cacANRi2DmknZNFGdnr5VOTo7IaI",authDomain:"curd-23e10.firebaseapp.com",projectId:"curd-23e10",storageBucket:"curd-23e10.firebasestorage.app",messagingSenderId:"1083172770184",appId:"1:1083172770184:web:b1795f6775e9954ba92a3d"};var Ae={providers:[te("https://dummyimage.com/"),Y({eventCoalescing:!0}),ae(we),re(),se(()=>le(Ie)),z(()=>H()),pe(()=>ce()),z(()=>H())]};function ke(e,_){e&1&&(o(0,"ul",11)(1,"li",12)(2,"a",13),a(3,"Category list"),r()(),o(4,"li",12)(5,"a",14),a(6,"Transaction List"),r()(),o(7,"li",12)(8,"a",15),a(9,"Categorywise Transaction List"),r()()())}function Le(e,_){e&1&&(o(0,"li",12)(1,"a",16),a(2,"Add new user"),r()())}function De(e,_){e&1&&(o(0,"li",12)(1,"a",17),a(2,"Login"),r()())}function Me(e,_){if(e&1){let i=Q();o(0,"li",18),y("click",function(){X(i);let n=C();return J(n.logout())}),o(1,"a",19),a(2,"Logout"),r()()}}var _e=(()=>{class e{constructor(i){this.auth=i,this.title="amt-version-upgrade"}logout(){this.auth.logout()}static{this.\u0275fac=function(t){return new(t||e)(c(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[S],decls:18,vars:12,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","mb-3"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","justify-content-between"],["class","navbar-nav me-auto mb-2 mb-lg-0",4,"ngIf"],[1,"navbar-nav","mb-2","mb-lg-0","ms-auto"],["class","nav-item",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"container"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","./expense-manager/category-list","href","javascript:void(0);",1,"nav-link"],["routerLink","./expense-manager/transaction-list","href","javascript:void(0);",1,"nav-link"],["routerLink","./expense-manager/categorywise-transaction-history","href","javascript:void(0);",1,"nav-link"],["routerLink","./register","href","javascript:void(0);",1,"nav-link"],["routerLink","./login","href","javascript:void(0);",1,"nav-link"],[1,"nav-item",3,"click"],["href","javascript:void(0);",1,"nav-link"]],template:function(t,n){t&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2),a(3,"Home"),r(),o(4,"button",3),p(5,"span",4),r(),o(6,"div",5),u(7,ke,10,0,"ul",6),R(8,"async"),o(9,"ul",7),u(10,Le,3,0,"li",8),R(11,"async"),u(12,De,3,0,"li",8),R(13,"async"),u(14,Me,3,0,"li",9),R(15,"async"),r()()()(),o(16,"div",10),p(17,"router-outlet"),r()),t&2&&(m(7),s("ngIf",N(8,4,n.auth.user$)),m(3),s("ngIf",N(11,6,n.auth.user$)),m(2),s("ngIf",!N(13,8,n.auth.user$)),m(2),s("ngIf",N(15,10,n.auth.user$)))},dependencies:[E,x,ee,oe,me,ne]})}}return e})();ie(_e,Ae).catch(e=>console.error(e));
