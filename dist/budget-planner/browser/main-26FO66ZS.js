import{a as re,b as oe,d as ne,e as h,f as ae,g as me,h as se}from"./chunk-YKYP4O2R.js";import{A as ve,B as H,G as ge,I as W,J as be,K as ye,a as T,b as d,c as D,d as M,e as q,h as G,i as V,m as O,n as P,o as U,p as B,q as le,r as pe,s as w,t as de,u as I,v as ce,w as ue,x as fe,y as he}from"./chunk-OOD42SEU.js";import{m as x,n as te,o as z,q as E,v as ie}from"./chunk-W2YDVLRZ.js";import{$ as l,$a as p,Da as m,Ea as c,Fb as ee,I as k,Sa as u,Ua as s,W as g,Za as o,_a as r,cb as Y,e as f,ea as b,fb as y,gb as C,lb as a,mb as L,na as J,oa as Q,qb as S,sb as R,tb as j,x as F}from"./chunk-TB2EXWOT.js";var A=(()=>{class e{constructor(i,t,n){this.auth=i,this.firestore=t,this.router=n,this.user$=I(this.auth)}register(i,t,n){return f(this,null,function*(){let v=yield ce(this.auth,t,n),X=v.user.uid,je=ge(this.firestore,`users/${X}`),Ne={uid:X,email:v.user.email,displayName:i,createdAt:be()};return yield ye(je,Ne),v})}login(i,t){return f(this,null,function*(){return yield fe(this.auth,i,t)})}logout(){return f(this,null,function*(){yield he(this.auth),yield this.router.navigate(["/login"])})}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(ve),l(h))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ke(e,_){if(e&1&&(o(0,"div",15),a(1),r()),e&2){let i=C();m(),L(i.error)}}var xe=(()=>{class e{constructor(i,t){this.fb=i,this.auth=t,this.loading=!1,this.form=this.fb.group({displayName:["",d.required],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}submit(){return f(this,null,function*(){if(this.form.invalid)return;this.loading=!0,this.error=void 0;let{displayName:i,email:t,password:n}=this.form.value;try{yield this.auth.register(i,t,n)}catch(v){this.error=v?.message??"Registration failed"}finally{this.loading=!1}})}static{this.\u0275fac=function(t){return new(t||e)(c(P),c(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-register"]],standalone:!0,features:[S],decls:22,vars:3,consts:[[1,"container","mt-5",3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4"],[1,"card","shadow-lg"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"mb-3"],["for","displayName",1,"form-label"],["formControlName","displayName","id","displayName","type","text","placeholder","Enter your full name","required","",1,"form-control"],["for","email",1,"form-label"],["formControlName","email","id","email","type","email","placeholder","Enter your email","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","id","password","type","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3",3,"disabled"],["class","mt-3 text-danger text-center",4,"ngIf"],[1,"mt-3","text-danger","text-center"]],template:function(t,n){t&1&&(o(0,"form",0),y("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Register"),r(),o(7,"div",6)(8,"label",7),a(9,"Full Name"),r(),p(10,"input",8),r(),o(11,"div",6)(12,"label",9),a(13,"Email"),r(),p(14,"input",10),r(),o(15,"div",6)(16,"label",11),a(17,"Password"),r(),p(18,"input",12),r(),o(19,"button",13),a(20," Register "),r(),u(21,ke,2,1,"div",14),r()()()()()),t&2&&(s("formGroup",n.form),m(19),s("disabled",n.form.invalid||n.loading),m(2),s("ngIf",n.error))},dependencies:[E,x,U,q,T,D,M,O,B,G,V]})}}return e})();function Le(e,_){if(e&1&&(o(0,"div",13),a(1),r()),e&2){let i=C();m(),L(i.error)}}var Ee=(()=>{class e{constructor(i,t,n){this.fb=i,this.auth=t,this.router=n,this.form=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required]]})}submit(){return f(this,null,function*(){try{yield this.auth.login(this.form.value.email,this.form.value.password),this.router.navigate(["/expense-manager/transaction-list"])}catch(i){this.error=i?.message??"Login failed"}})}static{this.\u0275fac=function(t){return new(t||e)(c(P),c(A),c(h))}}static{this.\u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[S],decls:18,vars:2,consts:[[1,"container","mt-5",3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-center","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["formControlName","email","id","email","type","email","placeholder","Enter your email","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","id","password","type","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3"],["class","mt-3 text-danger text-center",4,"ngIf"],[1,"mt-3","text-danger","text-center"]],template:function(t,n){t&1&&(o(0,"form",0),y("ngSubmit",function(){return n.submit()}),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Login"),r(),o(7,"div",6)(8,"label",7),a(9,"Email"),r(),p(10,"input",8),r(),o(11,"div",6)(12,"label",9),a(13,"Password"),r(),p(14,"input",10),r(),o(15,"button",11),a(16,"Login"),r(),u(17,Le,2,1,"div",12),r()()()()()),t&2&&(s("formGroup",n.form),m(17),s("ngIf",n.error))},dependencies:[E,x,U,q,T,D,M,O,B,G,V]})}}return e})();var K=(()=>{class e{constructor(i,t){this.auth=i,this.router=t}canActivate(i,t){return I(this.auth).pipe(k(1),F(n=>n?!0:(this.router.navigate(["/expense-manager/transaction-list"],{queryParams:{returnUrl:t.url}}),!1)))}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(h))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var we=(()=>{class e{constructor(i,t){this.auth=i,this.router=t}canActivate(){return I(this.auth).pipe(k(1),F(i=>i?(this.router.navigate(["/"]),!1):!0))}static{this.\u0275fac=function(t){return new(t||e)(l(w),l(h))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ie=[{path:"order",loadChildren:()=>import("./chunk-2TDZ7QOG.js").then(e=>e.ORDER_ROUTES)},{path:"role",loadChildren:()=>import("./chunk-R5QSLFW7.js").then(e=>e.ROLE_ROUTES)},{path:"contact",loadChildren:()=>import("./chunk-FSAZ6ZO7.js").then(e=>e.CONTACT_ROUTES)},{path:"expense-manager",loadChildren:()=>import("./chunk-27LWC2VZ.js").then(e=>e.EXPENSEMANAGER_ROUTES),canActivate:[K]},{path:"supplier",loadChildren:()=>import("./chunk-Y33UZNVX.js").then(e=>e.SUPPLIER_ROUTES)},{path:"register",component:xe,canActivate:[K]},{path:"login",component:Ee,canActivate:[we]}];var Ae={apiKey:"AIzaSyAFfL_cacANRi2DmknZNFGdnr5VOTo7IaI",authDomain:"curd-23e10.firebaseapp.com",projectId:"curd-23e10",storageBucket:"curd-23e10.firebasestorage.app",messagingSenderId:"1083172770184",appId:"1:1083172770184:web:b1795f6775e9954ba92a3d"};var _e={providers:[ie("https://dummyimage.com/"),ee({eventCoalescing:!0}),me(Ie),oe(),le(()=>pe(Ae)),H(()=>W()),de(()=>ue()),H(()=>W()),{provide:z,useClass:z}]};function Te(e,_){e&1&&(o(0,"ul",11)(1,"li",12)(2,"a",13),a(3,"Category list"),r()(),o(4,"li",12)(5,"a",14),a(6,"Transaction List"),r()(),o(7,"li",12)(8,"a",15),a(9,"Categorywise Transaction List"),r()(),o(10,"li",12)(11,"a",16),a(12,"Monthly Saving"),r()()())}function De(e,_){e&1&&(o(0,"li",12)(1,"a",17),a(2,"Add new user"),r()())}function Me(e,_){e&1&&(o(0,"li",12)(1,"a",18),a(2,"Login"),r()())}function qe(e,_){if(e&1){let i=Y();o(0,"li",19),y("click",function(){J(i);let n=C();return Q(n.logout())}),o(1,"a",20),a(2,"Logout"),r()()}}var Re=(()=>{class e{constructor(i){this.auth=i,this.title="amt-version-upgrade"}logout(){this.auth.logout()}static{this.\u0275fac=function(t){return new(t||e)(c(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[S],decls:18,vars:12,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","mb-3"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","justify-content-between"],["class","navbar-nav me-auto mb-2 mb-lg-0",4,"ngIf"],[1,"navbar-nav","mb-2","mb-lg-0","ms-auto"],["class","nav-item",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"container"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","./expense-manager/category-list","href","javascript:void(0);",1,"nav-link"],["routerLink","./expense-manager/transaction-list","href","javascript:void(0);",1,"nav-link"],["routerLink","./expense-manager/categorywise-transaction-history","href","javascript:void(0);",1,"nav-link"],["routerLink","./expense-manager/monthly-saving","href","javascript:void(0);",1,"nav-link"],["routerLink","./register","href","javascript:void(0);",1,"nav-link"],["routerLink","./login","href","javascript:void(0);",1,"nav-link"],[1,"nav-item",3,"click"],["href","javascript:void(0);",1,"nav-link"]],template:function(t,n){t&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2),a(3,"Home"),r(),o(4,"button",3),p(5,"span",4),r(),o(6,"div",5),u(7,Te,13,0,"ul",6),R(8,"async"),o(9,"ul",7),u(10,De,3,0,"li",8),R(11,"async"),u(12,Me,3,0,"li",8),R(13,"async"),u(14,qe,3,0,"li",9),R(15,"async"),r()()()(),o(16,"div",10),p(17,"router-outlet"),r()),t&2&&(m(7),s("ngIf",j(8,4,n.auth.user$)),m(3),s("ngIf",j(11,6,n.auth.user$)),m(2),s("ngIf",!j(13,8,n.auth.user$)),m(2),s("ngIf",j(15,10,n.auth.user$)))},dependencies:[E,x,te,ne,se,ae]})}}return e})();re(Re,_e).catch(e=>console.error(e));
